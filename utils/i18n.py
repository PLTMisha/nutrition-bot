"""
Internationalization (i18n) support for the Nutrition Bot
"""
import logging
from typing import Dict, Any, Optional
from enum import Enum

logger = logging.getLogger(__name__)


class Language(Enum):
    """Supported languages"""
    EN = "en"
    RU = "ru"
    UK = "uk"


class I18n:
    """Internationalization manager"""
    
    def __init__(self):
        self.translations = self._load_translations()
        self.default_language = Language.EN
    
    def _load_translations(self) -> Dict[str, Dict[str, str]]:
        """Load all translations"""
        return {
            # Basic commands and navigation
            "welcome_title": {
                "en": "üçé <b>Welcome to Nutrition Bot!</b>",
                "ru": "üçé <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Nutrition Bot!</b>",
                "uk": "üçé <b>–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –¥–æ Nutrition Bot!</b>"
            },
            "welcome_greeting": {
                "en": "Hello, {name}! üëã",
                "ru": "–ü—Ä–∏–≤–µ—Ç, {name}! üëã",
                "uk": "–ü—Ä–∏–≤—ñ—Ç, {name}! üëã"
            },
            "welcome_description": {
                "en": "I'll help you track calories and macronutrients. Here's what I can do:",
                "ru": "–Ø –ø–æ–º–æ–≥—É —Ç–µ–±–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∫–∞–ª–æ—Ä–∏–∏ –∏ –ë–ñ–£. –í–æ—Ç —á—Ç–æ —è —É–º–µ—é:",
                "uk": "–Ø –¥–æ–ø–æ–º–æ–∂—É —Ç–æ–±—ñ –≤—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ –∫–∞–ª–æ—Ä—ñ—ó —Ç–∞ –ë–ñ–£. –û—Å—å —â–æ —è –≤–º—ñ—é:"
            },
            "feature_search": {
                "en": "üîç <b>Product Search</b>\nJust type product name and quantity in grams",
                "ru": "üîç <b>–ü–æ–∏—Å–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤</b>\n–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä–∞–º–º–æ–≤",
                "uk": "üîç <b>–ü–æ—à—É–∫ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤</b>\n–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ –Ω–∞–∑–≤—É –ø—Ä–æ–¥—É–∫—Ç—É —Ç–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≥—Ä–∞–º—ñ–≤"
            },
            "feature_barcode": {
                "en": "üì∑ <b>Barcode Scanning</b>\nSend a photo of product barcode",
                "ru": "üì∑ <b>–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —à—Ç—Ä–∏—Ö-–∫–æ–¥–æ–≤</b>\n–û—Ç–ø—Ä–∞–≤—å —Ñ–æ—Ç–æ —à—Ç—Ä–∏—Ö-–∫–æ–¥–∞ —Ç–æ–≤–∞—Ä–∞",
                "uk": "üì∑ <b>–°–∫–∞–Ω—É–≤–∞–Ω–Ω—è —à—Ç—Ä–∏—Ö-–∫–æ–¥—ñ–≤</b>\n–ù–∞–¥—ñ—à–ª–∏ —Ñ–æ—Ç–æ —à—Ç—Ä–∏—Ö-–∫–æ–¥—É —Ç–æ–≤–∞—Ä—É"
            },
            "feature_photo": {
                "en": "üçΩÔ∏è <b>Food Photo Analysis</b>\nTake a photo of your meal with a reference object (coin, spoon, plate)",
                "ru": "üçΩÔ∏è <b>–ê–Ω–∞–ª–∏–∑ –±–ª—é–¥ –ø–æ —Ñ–æ—Ç–æ</b>\n–°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä—É–π –±–ª—é–¥–æ —Å —ç—Ç–∞–ª–æ–Ω–Ω—ã–º –ø—Ä–µ–¥–º–µ—Ç–æ–º (–º–æ–Ω–µ—Ç–∞, –ª–æ–∂–∫–∞, —Ç–∞—Ä–µ–ª–∫–∞)",
                "uk": "üçΩÔ∏è <b>–ê–Ω–∞–ª—ñ–∑ —Å—Ç—Ä–∞–≤ –∑–∞ —Ñ–æ—Ç–æ</b>\n–°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—É–π —Å—Ç—Ä–∞–≤—É –∑ –µ—Ç–∞–ª–æ–Ω–Ω–∏–º –ø—Ä–µ–¥–º–µ—Ç–æ–º (–º–æ–Ω–µ—Ç–∞, –ª–æ–∂–∫–∞, —Ç–∞—Ä—ñ–ª–∫–∞)"
            },
            "feature_stats": {
                "en": "üìä <b>Statistics and Goals</b>\nTrack progress and set daily goals",
                "ru": "üìä <b>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ —Ü–µ–ª–∏</b>\n–û—Ç—Å–ª–µ–∂–∏–≤–∞–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π –¥–Ω–µ–≤–Ω—ã–µ —Ü–µ–ª–∏",
                "uk": "üìä <b>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–∞ —Ü—ñ–ª—ñ</b>\n–í—ñ–¥—Å—Ç–µ–∂—É–π –ø—Ä–æ–≥—Ä–µ—Å —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª—é–π –¥–µ–Ω–Ω—ñ —Ü—ñ–ª—ñ"
            },
            "current_goal": {
                "en": "<b>Your current goal:</b> {calories} kcal/day",
                "ru": "<b>–¢–≤–æ—è —Ç–µ–∫—É—â–∞—è —Ü–µ–ª—å:</b> {calories} –∫–∫–∞–ª/–¥–µ–Ω—å",
                "uk": "<b>–¢–≤–æ—è –ø–æ—Ç–æ—á–Ω–∞ —Ü—ñ–ª—å:</b> {calories} –∫–∫–∞–ª/–¥–µ–Ω—å"
            },
            "choose_action": {
                "en": "Choose an action from the menu below or just type a product name! üëá",
                "ru": "–í—ã–±–µ—Ä–∏ –¥–µ–π—Å—Ç–≤–∏–µ –∏–∑ –º–µ–Ω—é –Ω–∏–∂–µ –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞! üëá",
                "uk": "–û–±–µ—Ä–∏ –¥—ñ—é –∑ –º–µ–Ω—é –Ω–∏–∂—á–µ –∞–±–æ –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ –Ω–∞–∑–≤—É –ø—Ä–æ–¥—É–∫—Ç—É! üëá"
            },
            
            # Help command
            "help_title": {
                "en": "üÜò <b>Command Help</b>",
                "ru": "üÜò <b>–°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º</b>",
                "uk": "üÜò <b>–î–æ–≤—ñ–¥–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞—Ö</b>"
            },
            "help_basic_commands": {
                "en": "<b>Basic Commands:</b>",
                "ru": "<b>–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:</b>",
                "uk": "<b>–û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–∞–Ω–¥–∏:</b>"
            },
            "help_cmd_start": {
                "en": "/start - Start bot and register",
                "ru": "/start - –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è",
                "uk": "/start - –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ —Ç–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è"
            },
            "help_cmd_help": {
                "en": "/help - Show this help",
                "ru": "/help - –ü–æ–∫–∞–∑–∞—Ç—å —ç—Ç—É —Å–ø—Ä–∞–≤–∫—É",
                "uk": "/help - –ü–æ–∫–∞–∑–∞—Ç–∏ —Ü—é –¥–æ–≤—ñ–¥–∫—É"
            },
            "help_cmd_stats": {
                "en": "/stats - Statistics for day/week/month",
                "ru": "/stats - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –¥–µ–Ω—å/–Ω–µ–¥–µ–ª—é/–º–µ—Å—è—Ü",
                "uk": "/stats - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –¥–µ–Ω—å/—Ç–∏–∂–¥–µ–Ω—å/–º—ñ—Å—è—Ü—å"
            },
            "help_cmd_goal": {
                "en": "/goal - Set daily calorie goal",
                "ru": "/goal - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–Ω–µ–≤–Ω—É—é —Ü–µ–ª—å –∫–∞–ª–æ—Ä–∏–π",
                "uk": "/goal - –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –¥–µ–Ω–Ω—É —Ü—ñ–ª—å –∫–∞–ª–æ—Ä—ñ–π"
            },
            "help_cmd_history": {
                "en": "/history - Recent food entries",
                "ru": "/history - –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –ø–∏—Ç–∞–Ω–∏—è",
                "uk": "/history - –û—Å—Ç–∞–Ω–Ω—ñ –∑–∞–ø–∏—Å–∏ —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—è"
            },
            "help_cmd_clear": {
                "en": "/clear - Clear today's data",
                "ru": "/clear - –û—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∑–∞ —Å–µ–≥–æ–¥–Ω—è",
                "uk": "/clear - –û—á–∏—Å—Ç–∏—Ç–∏ –¥–∞–Ω—ñ –∑–∞ —Å—å–æ–≥–æ–¥–Ω—ñ"
            },
            "help_cmd_lang": {
                "en": "/lang - Change language",
                "ru": "/lang - –ò–∑–º–µ–Ω–∏—Ç—å —è–∑—ã–∫",
                "uk": "/lang - –ó–º—ñ–Ω–∏—Ç–∏ –º–æ–≤—É"
            },
            
            # Product search
            "product_not_recognized": {
                "en": "‚ùå Could not recognize the product.\n\nTry writing like this:\n‚Ä¢ apple 150g\n‚Ä¢ bread 50g\n‚Ä¢ milk 200ml",
                "ru": "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ç.\n\n–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç—å —Ç–∞–∫:\n‚Ä¢ —è–±–ª–æ–∫–æ 150–≥\n‚Ä¢ —Ö–ª–µ–± 50–≥\n‚Ä¢ –º–æ–ª–æ–∫–æ 200–º–ª",
                "uk": "‚ùå –ù–µ –≤–¥–∞–ª–æ—Å—è —Ä–æ–∑–ø—ñ–∑–Ω–∞—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç.\n\n–°–ø—Ä–æ–±—É–π—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç–∏ —Ç–∞–∫:\n‚Ä¢ —è–±–ª—É–∫–æ 150–≥\n‚Ä¢ —Ö–ª—ñ–± 50–≥\n‚Ä¢ –º–æ–ª–æ–∫–æ 200–º–ª"
            },
            "product_not_found": {
                "en": "‚ùå Product '{product}' not found.\n\nTry:\n‚Ä¢ Change the name\n‚Ä¢ Use English name\n‚Ä¢ Scan barcode",
                "ru": "‚ùå –ü—Ä–æ–¥—É–∫—Ç '{product}' –Ω–µ –Ω–∞–π–¥–µ–Ω.\n\n–ü–æ–ø—Ä–æ–±—É–π—Ç–µ:\n‚Ä¢ –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ\n‚Ä¢ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–≥–ª–∏–π—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ\n‚Ä¢ –°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞—Ç—å —à—Ç—Ä–∏—Ö-–∫–æ–¥",
                "uk": "‚ùå –ü—Ä–æ–¥—É–∫—Ç '{product}' –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ.\n\n–°–ø—Ä–æ–±—É–π—Ç–µ:\n‚Ä¢ –ó–º—ñ–Ω–∏—Ç–∏ –Ω–∞–∑–≤—É\n‚Ä¢ –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –∞–Ω–≥–ª—ñ–π—Å—å–∫—É –Ω–∞–∑–≤—É\n‚Ä¢ –°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—É–≤–∞—Ç–∏ —à—Ç—Ä–∏—Ö-–∫–æ–¥"
            },
            "product_added": {
                "en": "‚úÖ <b>Product added!</b>",
                "ru": "‚úÖ <b>–ü—Ä–æ–¥—É–∫—Ç –¥–æ–±–∞–≤–ª–µ–Ω!</b>",
                "uk": "‚úÖ <b>–ü—Ä–æ–¥—É–∫—Ç –¥–æ–¥–∞–Ω–æ!</b>"
            },
            
            # Statistics
            "stats_title": {
                "en": "üìä <b>Nutrition Statistics</b>",
                "ru": "üìä <b>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∏—Ç–∞–Ω–∏—è</b>",
                "uk": "üìä <b>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—è</b>"
            },
            "stats_user": {
                "en": "üë§ <b>User:</b> {name}",
                "ru": "üë§ <b>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</b> {name}",
                "uk": "üë§ <b>–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á:</b> {name}"
            },
            "stats_daily_goal": {
                "en": "üéØ <b>Daily Goal:</b> {calories} kcal",
                "ru": "üéØ <b>–î–Ω–µ–≤–Ω–∞—è —Ü–µ–ª—å:</b> {calories} –∫–∫–∞–ª",
                "uk": "üéØ <b>–î–µ–Ω–Ω–∞ —Ü—ñ–ª—å:</b> {calories} –∫–∫–∞–ª"
            },
            "stats_today": {
                "en": "üìÖ <b>Today:</b>",
                "ru": "üìÖ <b>–°–µ–≥–æ–¥–Ω—è:</b>",
                "uk": "üìÖ <b>–°—å–æ–≥–æ–¥–Ω—ñ:</b>"
            },
            "stats_consumed": {
                "en": "üî• Consumed: <b>{calories} kcal</b>",
                "ru": "üî• –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–æ: <b>{calories} –∫–∫–∞–ª</b>",
                "uk": "üî• –°–ø–æ–∂–∏—Ç–æ: <b>{calories} –∫–∫–∞–ª</b>"
            },
            "stats_entries": {
                "en": "üìù Entries: {count}",
                "ru": "üìù –ó–∞–ø–∏—Å–µ–π: {count}",
                "uk": "üìù –ó–∞–ø–∏—Å—ñ–≤: {count}"
            },
            "stats_remaining": {
                "en": "‚öñÔ∏è Remaining: {calories} kcal",
                "ru": "‚öñÔ∏è –û—Å—Ç–∞–ª–æ—Å—å: {calories} –∫–∫–∞–ª",
                "uk": "‚öñÔ∏è –ó–∞–ª–∏—à–∏–ª–æ—Å—å: {calories} –∫–∫–∞–ª"
            },
            "stats_week": {
                "en": "üìä <b>This Week:</b>",
                "ru": "üìä <b>–ó–∞ –Ω–µ–¥–µ–ª—é:</b>",
                "uk": "üìä <b>–ó–∞ —Ç–∏–∂–¥–µ–Ω—å:</b>"
            },
            "stats_total": {
                "en": "üî• Total: {calories} kcal",
                "ru": "üî• –í—Å–µ–≥–æ: {calories} –∫–∫–∞–ª",
                "uk": "üî• –í—Å—å–æ–≥–æ: {calories} –∫–∫–∞–ª"
            },
            "stats_average": {
                "en": "üìà Average per day: {calories} kcal",
                "ru": "üìà –í —Å—Ä–µ–¥–Ω–µ–º –≤ –¥–µ–Ω—å: {calories} –∫–∫–∞–ª",
                "uk": "üìà –í —Å–µ—Ä–µ–¥–Ω—å–æ–º—É –Ω–∞ –¥–µ–Ω—å: {calories} –∫–∫–∞–ª"
            },
            
            # Nutrition info
            "calories": {
                "en": "üî• <b>{calories} kcal</b>",
                "ru": "üî• <b>{calories} –∫–∫–∞–ª</b>",
                "uk": "üî• <b>{calories} –∫–∫–∞–ª</b>"
            },
            "proteins": {
                "en": "ü•© Proteins: {proteins}g",
                "ru": "ü•© –ë–µ–ª–∫–∏: {proteins}–≥",
                "uk": "ü•© –ë—ñ–ª–∫–∏: {proteins}–≥"
            },
            "fats": {
                "en": "üßà Fats: {fats}g",
                "ru": "üßà –ñ–∏—Ä—ã: {fats}–≥",
                "uk": "üßà –ñ–∏—Ä–∏: {fats}–≥"
            },
            "carbs": {
                "en": "üçû Carbs: {carbs}g",
                "ru": "üçû –£–≥–ª–µ–≤–æ–¥—ã: {carbs}–≥",
                "uk": "üçû –í—É–≥–ª–µ–≤–æ–¥–∏: {carbs}–≥"
            },
            
            # Buttons
            "btn_main_menu": {
                "en": "üè† Main Menu",
                "ru": "üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é",
                "uk": "üè† –ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é"
            },
            "btn_search": {
                "en": "üîç Search Products",
                "ru": "üîç –ü–æ–∏—Å–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤",
                "uk": "üîç –ü–æ—à—É–∫ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤"
            },
            "btn_scan_barcode": {
                "en": "üì± Scan Barcode",
                "ru": "üì± –°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥",
                "uk": "üì± –°–∫–∞–Ω—É–≤–∞—Ç–∏ –∫–æ–¥"
            },
            "btn_photo_analysis": {
                "en": "üì∑ Photo Analysis",
                "ru": "üì∑ –ê–Ω–∞–ª–∏–∑ —Ñ–æ—Ç–æ",
                "uk": "üì∑ –ê–Ω–∞–ª—ñ–∑ —Ñ–æ—Ç–æ"
            },
            "btn_statistics": {
                "en": "üìä Statistics",
                "ru": "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",
                "uk": "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"
            },
            "btn_settings": {
                "en": "‚öôÔ∏è Settings",
                "ru": "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏",
                "uk": "‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è"
            },
            "btn_language": {
                "en": "üåê Language",
                "ru": "üåê –Ø–∑—ã–∫",
                "uk": "üåê –ú–æ–≤–∞"
            },
            "btn_history": {
                "en": "üìù History",
                "ru": "üìù –ò—Å—Ç–æ—Ä–∏—è",
                "uk": "üìù –Ü—Å—Ç–æ—Ä—ñ—è"
            },
            "btn_export": {
                "en": "üì§ Export Data",
                "ru": "üì§ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö",
                "uk": "üì§ –ï–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö"
            },
            "btn_weekly_chart": {
                "en": "üìà Weekly Chart",
                "ru": "üìà –ì—Ä–∞—Ñ–∏–∫ –∑–∞ –Ω–µ–¥–µ–ª—é",
                "uk": "üìà –ì—Ä–∞—Ñ—ñ–∫ –∑–∞ —Ç–∏–∂–¥–µ–Ω—å"
            },
            "btn_monthly_chart": {
                "en": "üìä Monthly Chart",
                "ru": "üìä –ì—Ä–∞—Ñ–∏–∫ –∑–∞ –º–µ—Å—è—Ü",
                "uk": "üìä –ì—Ä–∞—Ñ—ñ–∫ –∑–∞ –º—ñ—Å—è—Ü—å"
            },
            
            # Language selection
            "select_language": {
                "en": "üåê <b>Select Language</b>\n\nChoose your preferred language:",
                "ru": "üåê <b>–í—ã–±–æ—Ä —è–∑—ã–∫–∞</b>\n\n–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º—ã–π —è–∑—ã–∫:",
                "uk": "üåê <b>–í–∏–±—ñ—Ä –º–æ–≤–∏</b>\n\n–û–±–µ—Ä—ñ—Ç—å –±–∞–∂–∞–Ω—É –º–æ–≤—É:"
            },
            "language_changed": {
                "en": "‚úÖ Language changed to English",
                "ru": "‚úÖ –Ø–∑—ã–∫ –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ —Ä—É—Å—Å–∫–∏–π",
                "uk": "‚úÖ –ú–æ–≤—É –∑–º—ñ–Ω–µ–Ω–æ –Ω–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫—É"
            },
            
            # Errors
            "error_general": {
                "en": "‚ùå An error occurred. Please try again.",
                "ru": "‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.",
                "uk": "‚ùå –°—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑."
            },
            "error_user_not_found": {
                "en": "‚ùå User not found. Use /start",
                "ru": "‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /start",
                "uk": "‚ùå –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ /start"
            },
            "error_processing_photo": {
                "en": "‚ùå Error processing photo",
                "ru": "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ñ–æ—Ç–æ",
                "uk": "‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –æ–±—Ä–æ–±—Ü—ñ —Ñ–æ—Ç–æ"
            },
            "error_search": {
                "en": "‚ùå Error searching for product",
                "ru": "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –ø—Ä–æ–¥—É–∫—Ç–∞",
                "uk": "‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –ø–æ—à—É–∫—É –ø—Ä–æ–¥—É–∫—Ç—É"
            },
            
            # Photo processing
            "processing_image": {
                "en": "üîÑ Processing image...",
                "ru": "üîÑ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ...",
                "uk": "üîÑ –û–±—Ä–æ–±–ª—è—é –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è..."
            },
            "barcode_detected": {
                "en": "üì± <b>Barcode:</b> {barcode}",
                "ru": "üì± <b>–®—Ç—Ä–∏—Ö-–∫–æ–¥:</b> {barcode}",
                "uk": "üì± <b>–®—Ç—Ä–∏—Ö-–∫–æ–¥:</b> {barcode}"
            },
            "product_found_db": {
                "en": "‚úÖ Product found in database",
                "ru": "‚úÖ –ü—Ä–æ–¥—É–∫—Ç –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö",
                "uk": "‚úÖ –ü—Ä–æ–¥—É–∫—Ç –∑–Ω–∞–π–¥–µ–Ω–æ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö"
            },
            "product_not_found_db": {
                "en": "‚ùå <b>Product not found in database</b>\n\nTry:\n‚Ä¢ Search by name\n‚Ä¢ Scan different barcode\n‚Ä¢ Manual entry",
                "ru": "‚ùå <b>–ü—Ä–æ–¥—É–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö</b>\n\n–ü–æ–ø—Ä–æ–±—É–π—Ç–µ:\n‚Ä¢ –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é\n‚Ä¢ –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥—Ä—É–≥–æ–≥–æ –∫–æ–¥–∞\n‚Ä¢ –†—É—á–Ω–æ–π –≤–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö",
                "uk": "‚ùå <b>–ü—Ä–æ–¥—É–∫—Ç –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö</b>\n\n–°–ø—Ä–æ–±—É–π—Ç–µ:\n‚Ä¢ –ü–æ—à—É–∫ –∑–∞ –Ω–∞–∑–≤–æ—é\n‚Ä¢ –°–∫–∞–Ω—É–≤–∞–Ω–Ω—è —ñ–Ω—à–æ–≥–æ –∫–æ–¥—É\n‚Ä¢ –†—É—á–Ω–µ –≤–≤–µ–¥–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö"
            },
            "specify_quantity": {
                "en": "üí° Specify quantity in grams to add to food diary",
                "ru": "üí° –£–∫–∞–∂–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ –≥—Ä–∞–º–º–∞—Ö –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –¥–Ω–µ–≤–Ω–∏–∫ –ø–∏—Ç–∞–Ω–∏—è",
                "uk": "üí° –í–∫–∞–∂—ñ—Ç—å –∫—ñ–ª—å–∫—ñ—Å—Ç—å —É –≥—Ä–∞–º–∞—Ö –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –¥–æ —â–æ–¥–µ–Ω–Ω–∏–∫–∞ —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—è"
            },
            
            # Food analysis
            "food_analysis_title": {
                "en": "üçΩÔ∏è <b>Food Analysis:</b>",
                "ru": "üçΩÔ∏è <b>–ê–Ω–∞–ª–∏–∑ –±–ª—é–¥–∞:</b>",
                "uk": "üçΩÔ∏è <b>–ê–Ω–∞–ª—ñ–∑ —Å—Ç—Ä–∞–≤–∏:</b>"
            },
            "reference_object": {
                "en": "üìè <b>Reference object:</b> {object}",
                "ru": "üìè <b>–≠—Ç–∞–ª–æ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç:</b> {object}",
                "uk": "üìè <b>–ï—Ç–∞–ª–æ–Ω–Ω–∏–π –æ–±'—î–∫—Ç:</b> {object}"
            },
            "total_nutrition": {
                "en": "üìä <b>Total:</b>",
                "ru": "üìä <b>–ò—Ç–æ–≥–æ:</b>",
                "uk": "üìä <b>–†–∞–∑–æ–º:</b>"
            },
            "approximate_estimate": {
                "en": "üí° <i>This is an approximate estimate. You can adjust the data.</i>",
                "ru": "üí° <i>–≠—Ç–æ –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞. –í—ã –º–æ–∂–µ—Ç–µ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ.</i>",
                "uk": "üí° <i>–¶–µ –ø—Ä–∏–±–ª–∏–∑–Ω–∞ –æ—Ü—ñ–Ω–∫–∞. –í–∏ –º–æ–∂–µ—Ç–µ —Å–∫–æ—Ä–∏–≥—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ.</i>"
            },
            
            # Goal setting
            "goal_usage": {
                "en": "üìä <b>Setting Daily Goal</b>\n\nUse: <code>/goal 2000</code>\nWhere 2000 is desired calories per day\n\nRecommended values:\n‚Ä¢ Women: 1800-2200 kcal\n‚Ä¢ Men: 2200-2800 kcal",
                "ru": "üìä <b>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–Ω–µ–≤–Ω–æ–π —Ü–µ–ª–∏</b>\n\n–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ: <code>/goal 2000</code>\n–ì–¥–µ 2000 - –∂–µ–ª–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–ª–æ—Ä–∏–π –≤ –¥–µ–Ω—å\n\n–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:\n‚Ä¢ –ñ–µ–Ω—â–∏–Ω—ã: 1800-2200 –∫–∫–∞–ª\n‚Ä¢ –ú—É–∂—á–∏–Ω—ã: 2200-2800 –∫–∫–∞–ª",
                "uk": "üìä <b>–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–µ–Ω–Ω–æ—ó —Ü—ñ–ª—ñ</b>\n\n–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ: <code>/goal 2000</code>\n–î–µ 2000 - –±–∞–∂–∞–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–∞–ª–æ—Ä—ñ–π –Ω–∞ –¥–µ–Ω—å\n\n–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è:\n‚Ä¢ –ñ—ñ–Ω–∫–∏: 1800-2200 –∫–∫–∞–ª\n‚Ä¢ –ß–æ–ª–æ–≤—ñ–∫–∏: 2200-2800 –∫–∫–∞–ª"
            },
            "goal_invalid": {
                "en": "‚ùå Invalid goal. Specify value between 800 and 5000 kcal",
                "ru": "‚ùå –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ü–µ–ª—å. –£–∫–∞–∂–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç 800 –¥–æ 5000 –∫–∫–∞–ª",
                "uk": "‚ùå –ù–µ–∫–æ—Ä–µ–∫—Ç–Ω–∞ —Ü—ñ–ª—å. –í–∫–∞–∂—ñ—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è –≤—ñ–¥ 800 –¥–æ 5000 –∫–∫–∞–ª"
            },
            "goal_invalid_number": {
                "en": "‚ùå Please specify a valid number of calories",
                "ru": "‚ùå –£–∫–∞–∂–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —á–∏—Å–ª–æ –∫–∞–ª–æ—Ä–∏–π",
                "uk": "‚ùå –í–∫–∞–∂—ñ—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–µ —á–∏—Å–ª–æ –∫–∞–ª–æ—Ä—ñ–π"
            },
            "goal_updated": {
                "en": "‚úÖ <b>Goal updated!</b>\n\nYour new daily goal: <b>{calories} kcal</b>\nGood luck achieving your goal! üí™",
                "ru": "‚úÖ <b>–¶–µ–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω–∞!</b>\n\n–í–∞—à–∞ –Ω–æ–≤–∞—è –¥–Ω–µ–≤–Ω–∞—è —Ü–µ–ª—å: <b>{calories} –∫–∫–∞–ª</b>\n–£–¥–∞—á–∏ –≤ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–∏! üí™",
                "uk": "‚úÖ <b>–¶—ñ–ª—å –æ–Ω–æ–≤–ª–µ–Ω–æ!</b>\n\n–í–∞—à–∞ –Ω–æ–≤–∞ –¥–µ–Ω–Ω–∞ —Ü—ñ–ª—å: <b>{calories} –∫–∫–∞–ª</b>\n–£–¥–∞—á—ñ –≤ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—ñ —Ü—ñ–ª—ñ! üí™"
            },
            
            # History
            "history_title": {
                "en": "üìù <b>Food History</b>",
                "ru": "üìù <b>–ò—Å—Ç–æ—Ä–∏—è –ø–∏—Ç–∞–Ω–∏—è</b>",
                "uk": "üìù <b>–Ü—Å—Ç–æ—Ä—ñ—è —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—è</b>"
            },
            "history_empty": {
                "en": "üìù <b>Food History</b>\n\nYou don't have any entries yet.\nAdd your first product! üçé",
                "ru": "üìù <b>–ò—Å—Ç–æ—Ä–∏—è –ø–∏—Ç–∞–Ω–∏—è</b>\n\n–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–ø–∏—Å–µ–π.\n–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç! üçé",
                "uk": "üìù <b>–Ü—Å—Ç–æ—Ä—ñ—è —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—è</b>\n\n–£ –≤–∞—Å –ø–æ–∫–∏ –Ω–µ–º–∞—î –∑–∞–ø–∏—Å—ñ–≤.\n–î–æ–¥–∞–π—Ç–µ –ø–µ—Ä—à–∏–π –ø—Ä–æ–¥—É–∫—Ç! üçé"
            },
            "recent_entries": {
                "en": "üìù <b>Recent entries:</b>",
                "ru": "üìù <b>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏:</b>",
                "uk": "üìù <b>–û—Å—Ç–∞–Ω–Ω—ñ –∑–∞–ø–∏—Å–∏:</b>"
            },
            
            # Combined messages used in handlers
            "welcome_message": {
                "en": """üçé <b>Welcome to Nutrition Bot!</b>

Hello, {name}! üëã

I'll help you track calories and macronutrients. Here's what I can do:

üîç <b>Product Search</b>
Just type product name and quantity in grams

üì∑ <b>Barcode Scanning</b>
Send a photo of product barcode

üçΩÔ∏è <b>Food Photo Analysis</b>
Take a photo of your meal with a reference object (coin, spoon, plate)

üìä <b>Statistics and Goals</b>
Track progress and set daily goals

<b>Your current goal:</b> {daily_goal} kcal/day

Choose an action from the menu below or just type a product name! üëá""",
                "ru": """üçé <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Nutrition Bot!</b>

–ü—Ä–∏–≤–µ—Ç, {name}! üëã

–Ø –ø–æ–º–æ–≥—É —Ç–µ–±–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∫–∞–ª–æ—Ä–∏–∏ –∏ –ë–ñ–£. –í–æ—Ç —á—Ç–æ —è —É–º–µ—é:

üîç <b>–ü–æ–∏—Å–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤</b>
–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä–∞–º–º–æ–≤

üì∑ <b>–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —à—Ç—Ä–∏—Ö-–∫–æ–¥–æ–≤</b>
–û—Ç–ø—Ä–∞–≤—å —Ñ–æ—Ç–æ —à—Ç—Ä–∏—Ö-–∫–æ–¥–∞ —Ç–æ–≤–∞—Ä–∞

üçΩÔ∏è <b>–ê–Ω–∞–ª–∏–∑ –±–ª—é–¥ –ø–æ —Ñ–æ—Ç–æ</b>
–°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä—É–π –±–ª—é–¥–æ —Å —ç—Ç–∞–ª–æ–Ω–Ω—ã–º –ø—Ä–µ–¥–º–µ—Ç–æ–º (–º–æ–Ω–µ—Ç–∞, –ª–æ–∂–∫–∞, —Ç–∞—Ä–µ–ª–∫–∞)

üìä <b>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ —Ü–µ–ª–∏</b>
–û—Ç—Å–ª–µ–∂–∏–≤–∞–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π –¥–Ω–µ–≤–Ω—ã–µ —Ü–µ–ª–∏

<b>–¢–≤–æ—è —Ç–µ–∫—É—â–∞—è —Ü–µ–ª—å:</b> {daily_goal} –∫–∫–∞–ª/–¥–µ–Ω—å

–í—ã–±–µ—Ä–∏ –¥–µ–π—Å—Ç–≤–∏–µ –∏–∑ –º–µ–Ω—é –Ω–∏–∂–µ –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞! üëá""",
                "uk": """üçé <b>–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –¥–æ Nutrition Bot!</b>

–ü—Ä–∏–≤—ñ—Ç, {name}! üëã

–Ø –¥–æ–ø–æ–º–æ–∂—É —Ç–æ–±—ñ –≤—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ –∫–∞–ª–æ—Ä—ñ—ó —Ç–∞ –ë–ñ–£. –û—Å—å —â–æ —è –≤–º—ñ—é:

üîç <b>–ü–æ—à—É–∫ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤</b>
–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ –Ω–∞–∑–≤—É –ø—Ä–æ–¥—É–∫—Ç—É —Ç–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≥—Ä–∞–º—ñ–≤

üì∑ <b>–°–∫–∞–Ω—É–≤–∞–Ω–Ω—è —à—Ç—Ä–∏—Ö-–∫–æ–¥—ñ–≤</b>
–ù–∞–¥—ñ—à–ª–∏ —Ñ–æ—Ç–æ —à—Ç—Ä–∏—Ö-–∫–æ–¥—É —Ç–æ–≤–∞—Ä—É

üçΩÔ∏è <b>–ê–Ω–∞–ª—ñ–∑ —Å—Ç—Ä–∞–≤ –∑–∞ —Ñ–æ—Ç–æ</b>
–°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—É–π —Å—Ç—Ä–∞–≤—É –∑ –µ—Ç–∞–ª–æ–Ω–Ω–∏–º –ø—Ä–µ–¥–º–µ—Ç–æ–º (–º–æ–Ω–µ—Ç–∞, –ª–æ–∂–∫–∞, —Ç–∞—Ä—ñ–ª–∫–∞)

üìä <b>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–∞ —Ü—ñ–ª—ñ</b>
–í—ñ–¥—Å—Ç–µ–∂—É–π –ø—Ä–æ–≥—Ä–µ—Å —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª—é–π –¥–µ–Ω–Ω—ñ —Ü—ñ–ª—ñ

<b>–¢–≤–æ—è –ø–æ—Ç–æ—á–Ω–∞ —Ü—ñ–ª—å:</b> {daily_goal} –∫–∫–∞–ª/–¥–µ–Ω—å

–û–±–µ—Ä–∏ –¥—ñ—é –∑ –º–µ–Ω—é –Ω–∏–∂—á–µ –∞–±–æ –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ –Ω–∞–∑–≤—É –ø—Ä–æ–¥—É–∫—Ç—É! üëá"""
            },
            "help_message": {
                "en": """üÜò <b>Command Help</b>

<b>Basic Commands:</b>
/start - Start bot and register
/help - Show this help
/stats - Statistics for day/week/month
/goal - Set daily calorie goal
/history - Recent food entries
/clear - Clear today's data
/lang - Change language

<b>Ways to add products:</b>

1Ô∏è‚É£ <b>Text Search</b>
Type: "apple 150g" or "bread 50g"

2Ô∏è‚É£ <b>Barcode</b>
Send a photo of product barcode

3Ô∏è‚É£ <b>Food Photo</b>
Take a photo of your meal with reference object:
‚Ä¢ Coin (1‚Ç¨, 2‚Ç¨)
‚Ä¢ Cutlery (spoon, fork)
‚Ä¢ Dishes (plate, glass)
‚Ä¢ Credit card

<b>Query examples:</b>
‚Ä¢ "buckwheat 100g"
‚Ä¢ "milk 200ml"
‚Ä¢ "banana 1 pc"
‚Ä¢ "chicken 150g"

<b>Reference objects for photos:</b>
‚Ä¢ 1‚Ç¨ coin (23.25mm)
‚Ä¢ 2‚Ç¨ coin (25.75mm)
‚Ä¢ Tablespoon (20cm)
‚Ä¢ Plate (24cm)
‚Ä¢ Credit card (85.6√ó53.98mm)

Need help? Just ask your question! üòä""",
                "ru": """üÜò <b>–°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º</b>

<b>–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:</b>
/start - –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
/help - –ü–æ–∫–∞–∑–∞—Ç—å —ç—Ç—É —Å–ø—Ä–∞–≤–∫—É
/stats - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –¥–µ–Ω—å/–Ω–µ–¥–µ–ª—é/–º–µ—Å—è—Ü
/goal - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–Ω–µ–≤–Ω—É—é —Ü–µ–ª—å –∫–∞–ª–æ—Ä–∏–π
/history - –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –ø–∏—Ç–∞–Ω–∏—è
/clear - –û—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∑–∞ —Å–µ–≥–æ–¥–Ω—è
/lang - –ò–∑–º–µ–Ω–∏—Ç—å —è–∑—ã–∫

<b>–°–ø–æ—Å–æ–±—ã –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤:</b>

1Ô∏è‚É£ <b>–¢–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫</b>
–ù–∞–ø–∏—à–∏: "—è–±–ª–æ–∫–æ 150–≥" –∏–ª–∏ "—Ö–ª–µ–± 50–≥"

2Ô∏è‚É£ <b>–®—Ç—Ä–∏—Ö-–∫–æ–¥</b>
–û—Ç–ø—Ä–∞–≤—å —Ñ–æ—Ç–æ —à—Ç—Ä–∏—Ö-–∫–æ–¥–∞ —Ç–æ–≤–∞—Ä–∞

3Ô∏è‚É£ <b>–§–æ—Ç–æ –±–ª—é–¥–∞</b>
–°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä—É–π –µ–¥—É —Å —ç—Ç–∞–ª–æ–Ω–Ω—ã–º –ø—Ä–µ–¥–º–µ—Ç–æ–º:
‚Ä¢ –ú–æ–Ω–µ—Ç–∞ (1‚Ç¨, 2‚Ç¨)
‚Ä¢ –°—Ç–æ–ª–æ–≤—ã–µ –ø—Ä–∏–±–æ—Ä—ã (–ª–æ–∂–∫–∞, –≤–∏–ª–∫–∞)
‚Ä¢ –ü–æ—Å—É–¥–∞ (—Ç–∞—Ä–µ–ª–∫–∞, —Å—Ç–∞–∫–∞–Ω)
‚Ä¢ –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞

<b>–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:</b>
‚Ä¢ "–≥—Ä–µ—á–∫–∞ 100–≥"
‚Ä¢ "–º–æ–ª–æ–∫–æ 200–º–ª"
‚Ä¢ "–±–∞–Ω–∞–Ω 1 —à—Ç"
‚Ä¢ "–∫—É—Ä–∏—Ü–∞ 150–≥"

<b>–≠—Ç–∞–ª–æ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –¥–ª—è —Ñ–æ—Ç–æ:</b>
‚Ä¢ –ú–æ–Ω–µ—Ç–∞ 1‚Ç¨ (23.25–º–º)
‚Ä¢ –ú–æ–Ω–µ—Ç–∞ 2‚Ç¨ (25.75–º–º)
‚Ä¢ –°—Ç–æ–ª–æ–≤–∞—è –ª–æ–∂–∫–∞ (20—Å–º)
‚Ä¢ –¢–∞—Ä–µ–ª–∫–∞ (24—Å–º)
‚Ä¢ –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞ (85.6√ó53.98–º–º)

–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å? –ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å! üòä""",
                "uk": """üÜò <b>–î–æ–≤—ñ–¥–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞—Ö</b>

<b>–û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–∞–Ω–¥–∏:</b>
/start - –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ —Ç–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
/help - –ü–æ–∫–∞–∑–∞—Ç–∏ —Ü—é –¥–æ–≤—ñ–¥–∫—É
/stats - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –¥–µ–Ω—å/—Ç–∏–∂–¥–µ–Ω—å/–º—ñ—Å—è—Ü—å
/goal - –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –¥–µ–Ω–Ω—É —Ü—ñ–ª—å –∫–∞–ª–æ—Ä—ñ–π
/history - –û—Å—Ç–∞–Ω–Ω—ñ –∑–∞–ø–∏—Å–∏ —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—è
/clear - –û—á–∏—Å—Ç–∏—Ç–∏ –¥–∞–Ω—ñ –∑–∞ —Å—å–æ–≥–æ–¥–Ω—ñ
/lang - –ó–º—ñ–Ω–∏—Ç–∏ –º–æ–≤—É

<b>–°–ø–æ—Å–æ–±–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç—ñ–≤:</b>

1Ô∏è‚É£ <b>–¢–µ–∫—Å—Ç–æ–≤–∏–π –ø–æ—à—É–∫</b>
–ù–∞–ø–∏—à–∏: "—è–±–ª—É–∫–æ 150–≥" –∞–±–æ "—Ö–ª—ñ–± 50–≥"

2Ô∏è‚É£ <b>–®—Ç—Ä–∏—Ö-–∫–æ–¥</b>
–ù–∞–¥—ñ—à–ª–∏ —Ñ–æ—Ç–æ —à—Ç—Ä–∏—Ö-–∫–æ–¥—É —Ç–æ–≤–∞—Ä—É

3Ô∏è‚É£ <b>–§–æ—Ç–æ —Å—Ç—Ä–∞–≤–∏</b>
–°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—É–π —ó–∂—É –∑ –µ—Ç–∞–ª–æ–Ω–Ω–∏–º –ø—Ä–µ–¥–º–µ—Ç–æ–º:
‚Ä¢ –ú–æ–Ω–µ—Ç–∞ (1‚Ç¨, 2‚Ç¨)
‚Ä¢ –°—Ç–æ–ª–æ–≤—ñ –ø—Ä–∏–±–æ—Ä–∏ (–ª–æ–∂–∫–∞, –≤–∏–¥–µ–ª–∫–∞)
‚Ä¢ –ü–æ—Å—É–¥ (—Ç–∞—Ä—ñ–ª–∫–∞, —Å–∫–ª—è–Ω–∫–∞)
‚Ä¢ –ö—Ä–µ–¥–∏—Ç–Ω–∞ –∫–∞—Ä—Ç–∫–∞

<b>–ü—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–ø–∏—Ç—ñ–≤:</b>
‚Ä¢ "–≥—Ä–µ—á–∫–∞ 100–≥"
‚Ä¢ "–º–æ–ª–æ–∫–æ 200–º–ª"
‚Ä¢ "–±–∞–Ω–∞–Ω 1 —à—Ç"
‚Ä¢ "–∫—É—Ä–∫–∞ 150–≥"

<b>–ï—Ç–∞–ª–æ–Ω–Ω—ñ –æ–±'—î–∫—Ç–∏ –¥–ª—è —Ñ–æ—Ç–æ:</b>
‚Ä¢ –ú–æ–Ω–µ—Ç–∞ 1‚Ç¨ (23.25–º–º)
‚Ä¢ –ú–æ–Ω–µ—Ç–∞ 2‚Ç¨ (25.75–º–º)
‚Ä¢ –°—Ç–æ–ª–æ–≤–∞ –ª–æ–∂–∫–∞ (20—Å–º)
‚Ä¢ –¢–∞—Ä—ñ–ª–∫–∞ (24—Å–º)
‚Ä¢ –ö—Ä–µ–¥–∏—Ç–Ω–∞ –∫–∞—Ä—Ç–∫–∞ (85.6√ó53.98–º–º)

–ü–æ—Ç—Ä—ñ–±–Ω–∞ –¥–æ–ø–æ–º–æ–≥–∞? –ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏ —Å–≤–æ—î –ø–∏—Ç–∞–Ω–Ω—è! üòä"""
            },
            "nutrition_summary": {
                "en": "üî• <b>{calories:.0f} kcal</b>\nü•© Proteins: {proteins:.1f}g\nüßà Fats: {fats:.1f}g\nüçû Carbs: {carbs:.1f}g",
                "ru": "üî• <b>{calories:.0f} –∫–∫–∞–ª</b>\nü•© –ë–µ–ª–∫–∏: {proteins:.1f}–≥\nüßà –ñ–∏—Ä—ã: {fats:.1f}–≥\nüçû –£–≥–ª–µ–≤–æ–¥—ã: {carbs:.1f}–≥",
                "uk": "üî• <b>{calories:.0f} –∫–∫–∞–ª</b>\nü•© –ë—ñ–ª–∫–∏: {proteins:.1f}–≥\nüßà –ñ–∏—Ä–∏: {fats:.1f}–≥\nüçû –í—É–≥–ª–µ–≤–æ–¥–∏: {carbs:.1f}–≥"
            },
            "stats_message": {
                "en": """üìä <b>Nutrition Statistics</b>

üë§ <b>User:</b> {name}
üéØ <b>Daily Goal:</b> {goal_calories} kcal

üìÖ <b>Today:</b>
{progress_bar} {progress_percent:.1f}%
üî• Consumed: <b>{today_calories:.0f} kcal</b>
üìù Entries: {today_entries}
‚öñÔ∏è Remaining: {remaining_calories:.0f} kcal

üìä <b>This Week:</b>
üî• Total: {week_calories:.0f} kcal
üìà Average per day: {avg_daily_calories:.0f} kcal
üìù Total entries: {week_entries}

{nutrition_summary}""",
                "ru": """üìä <b>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∏—Ç–∞–Ω–∏—è</b>

üë§ <b>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</b> {name}
üéØ <b>–î–Ω–µ–≤–Ω–∞—è —Ü–µ–ª—å:</b> {goal_calories} –∫–∫–∞–ª

üìÖ <b>–°–µ–≥–æ–¥–Ω—è:</b>
{progress_bar} {progress_percent:.1f}%
üî• –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–æ: <b>{today_calories:.0f} –∫–∫–∞–ª</b>
üìù –ó–∞–ø–∏—Å–µ–π: {today_entries}
‚öñÔ∏è –û—Å—Ç–∞–ª–æ—Å—å: {remaining_calories:.0f} –∫–∫–∞–ª

üìä <b>–ó–∞ –Ω–µ–¥–µ–ª—é:</b>
üî• –í—Å–µ–≥–æ: {week_calories:.0f} –∫–∫–∞–ª
üìà –í —Å—Ä–µ–¥–Ω–µ–º –≤ –¥–µ–Ω—å: {avg_daily_calories:.0f} –∫–∫–∞–ª
üìù –í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: {week_entries}

{nutrition_summary}""",
                "uk": """üìä <b>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—è</b>

üë§ <b>–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á:</b> {name}
üéØ <b>–î–µ–Ω–Ω–∞ —Ü—ñ–ª—å:</b> {goal_calories} –∫–∫–∞–ª

üìÖ <b>–°—å–æ–≥–æ–¥–Ω—ñ:</b>
{progress_bar} {progress_percent:.1f}%
üî• –°–ø–æ–∂–∏—Ç–æ: <b>{today_calories:.0f} –∫–∫–∞–ª</b>
üìù –ó–∞–ø–∏—Å—ñ–≤: {today_entries}
‚öñÔ∏è –ó–∞–ª–∏—à–∏–ª–æ—Å—å: {remaining_calories:.0f} –∫–∫–∞–ª

üìä <b>–ó–∞ —Ç–∏–∂–¥–µ–Ω—å:</b>
üî• –í—Å—å–æ–≥–æ: {week_calories:.0f} –∫–∫–∞–ª
üìà –í —Å–µ—Ä–µ–¥–Ω—å–æ–º—É –Ω–∞ –¥–µ–Ω—å: {avg_daily_calories:.0f} –∫–∫–∞–ª
üìù –í—Å—å–æ–≥–æ –∑–∞–ø–∏—Å—ñ–≤: {week_entries}

{nutrition_summary}"""
            },
            "main_menu": {
                "en": "üè† <b>Main Menu</b>\n\nChoose an action:",
                "ru": "üè† <b>–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</b>\n\n–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:",
                "uk": "üè† <b>–ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é</b>\n\n–û–±–µ—Ä—ñ—Ç—å –¥—ñ—é:"
            },
            "settings_info": {
                "en": """‚öôÔ∏è <b>Settings</b>

üë§ <b>User:</b> {name}
üéØ <b>Daily Goal:</b> {daily_goal} kcal
üåç <b>Language:</b> {language}
üìÖ <b>Registration:</b> {registration_date}""",
                "ru": """‚öôÔ∏è <b>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</b>

üë§ <b>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</b> {name}
üéØ <b>–î–Ω–µ–≤–Ω–∞—è —Ü–µ–ª—å:</b> {daily_goal} –∫–∫–∞–ª
üåç <b>–Ø–∑—ã–∫:</b> {language}
üìÖ <b>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:</b> {registration_date}""",
                "uk": """‚öôÔ∏è <b>–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</b>

üë§ <b>–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á:</b> {name}
üéØ <b>–î–µ–Ω–Ω–∞ —Ü—ñ–ª—å:</b> {daily_goal} –∫–∫–∞–ª
üåç <b>–ú–æ–≤–∞:</b> {language}
üìÖ <b>–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è:</b> {registration_date}"""
            },
            "language_selection": {
                "en": "üåê <b>Select Language</b>\n\nChoose your preferred language:",
                "ru": "üåê <b>–í—ã–±–æ—Ä —è–∑—ã–∫–∞</b>\n\n–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º—ã–π —è–∑—ã–∫:",
                "uk": "üåê <b>–í–∏–±—ñ—Ä –º–æ–≤–∏</b>\n\n–û–±–µ—Ä—ñ—Ç—å –±–∞–∂–∞–Ω—É –º–æ–≤—É:"
            },
            "goal_help": {
                "en": "üìä <b>Setting Daily Goal</b>\n\nUse: <code>/goal 2000</code>\nWhere 2000 is desired calories per day\n\nRecommended values:\n‚Ä¢ Women: 1800-2200 kcal\n‚Ä¢ Men: 2200-2800 kcal",
                "ru": "üìä <b>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–Ω–µ–≤–Ω–æ–π —Ü–µ–ª–∏</b>\n\n–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ: <code>/goal 2000</code>\n–ì–¥–µ 2000 - –∂–µ–ª–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–ª–æ—Ä–∏–π –≤ –¥–µ–Ω—å\n\n–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:\n‚Ä¢ –ñ–µ–Ω—â–∏–Ω—ã: 1800-2200 –∫–∫–∞–ª\n‚Ä¢ –ú—É–∂—á–∏–Ω—ã: 2200-2800 –∫–∫–∞–ª",
                "uk": "üìä <b>–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–µ–Ω–Ω–æ—ó —Ü—ñ–ª—ñ</b>\n\n–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ: <code>/goal 2000</code>\n–î–µ 2000 - –±–∞–∂–∞–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–∞–ª–æ—Ä—ñ–π –Ω–∞ –¥–µ–Ω—å\n\n–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è:\n‚Ä¢ –ñ—ñ–Ω–∫–∏: 1800-2200 –∫–∫–∞–ª\n‚Ä¢ –ß–æ–ª–æ–≤—ñ–∫–∏: 2200-2800 –∫–∫–∞–ª"
            },
            "history_header": {
                "en": "üìù <b>Recent entries:</b>",
                "ru": "üìù <b>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏:</b>",
                "uk": "üìù <b>–û—Å—Ç–∞–Ω–Ω—ñ –∑–∞–ø–∏—Å–∏:</b>"
            },
            "history_entry": {
                "en": "üïê <b>{date}</b>\nüçΩÔ∏è {product}\n‚öñÔ∏è {quantity}g\nüî• {calories:.0f} kcal | ü•© {proteins:.1f}p | üßà {fats:.1f}f | üçû {carbs:.1f}c",
                "ru": "üïê <b>{date}</b>\nüçΩÔ∏è {product}\n‚öñÔ∏è {quantity}–≥\nüî• {calories:.0f} –∫–∫–∞–ª | ü•© {proteins:.1f}–± | üßà {fats:.1f}–∂ | üçû {carbs:.1f}—É",
                "uk": "üïê <b>{date}</b>\nüçΩÔ∏è {product}\n‚öñÔ∏è {quantity}–≥\nüî• {calories:.0f} –∫–∫–∞–ª | ü•© {proteins:.1f}–± | üßà {fats:.1f}–∂ | üçû {carbs:.1f}–≤"
            },
            "clear_no_data": {
                "en": "üìù No entries to delete for today",
                "ru": "üìù –ó–∞ —Å–µ–≥–æ–¥–Ω—è –Ω–µ—Ç –∑–∞–ø–∏—Å–µ–π –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è",
                "uk": "üìù –ó–∞ —Å—å–æ–≥–æ–¥–Ω—ñ –Ω–µ–º–∞—î –∑–∞–ø–∏—Å—ñ–≤ –¥–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è"
            },
            "clear_success": {
                "en": "üóëÔ∏è <b>Data cleared</b>\n\nDeleted entries: {count}\nDate: {date}",
                "ru": "üóëÔ∏è <b>–î–∞–Ω–Ω—ã–µ –æ—á–∏—â–µ–Ω—ã</b>\n\n–£–¥–∞–ª–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π: {count}\n–î–∞—Ç–∞: {date}",
                "uk": "üóëÔ∏è <b>–î–∞–Ω—ñ –æ—á–∏—â–µ–Ω–æ</b>\n\n–í–∏–¥–∞–ª–µ–Ω–æ –∑–∞–ø–∏—Å—ñ–≤: {count}\n–î–∞—Ç–∞: {date}"
            },
            # Error messages
            "error_start": {
                "en": "‚ùå Error starting bot. Please try again.",
                "ru": "‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.",
                "uk": "‚ùå –°—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫—É. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑."
            },
            "error_stats": {
                "en": "‚ùå Error getting statistics",
                "ru": "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏",
                "uk": "‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏"
            },
            "error_invalid_goal": {
                "en": "‚ùå Invalid goal. Specify value between 800 and 5000 kcal",
                "ru": "‚ùå –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ü–µ–ª—å. –£–∫–∞–∂–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç 800 –¥–æ 5000 –∫–∫–∞–ª",
                "uk": "‚ùå –ù–µ–∫–æ—Ä–µ–∫—Ç–Ω–∞ —Ü—ñ–ª—å. –í–∫–∞–∂—ñ—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è –≤—ñ–¥ 800 –¥–æ 5000 –∫–∫–∞–ª"
            },
            "error_invalid_number": {
                "en": "‚ùå Please specify a valid number of calories",
                "ru": "‚ùå –£–∫–∞–∂–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —á–∏—Å–ª–æ –∫–∞–ª–æ—Ä–∏–π",
                "uk": "‚ùå –í–∫–∞–∂—ñ—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–µ —á–∏—Å–ª–æ –∫–∞–ª–æ—Ä—ñ–π"
            },
            "error_goal_update": {
                "en": "‚ùå Error updating goal",
                "ru": "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Ü–µ–ª–∏",
                "uk": "‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ —Ü—ñ–ª—ñ"
            },
            "error_goal_set": {
                "en": "‚ùå Error setting goal",
                "ru": "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ —Ü–µ–ª–∏",
                "uk": "‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ñ —Ü—ñ–ª—ñ"
            },
            "error_history": {
                "en": "‚ùå Error getting history",
                "ru": "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∏—Å—Ç–æ—Ä–∏–∏",
                "uk": "‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ —ñ—Å—Ç–æ—Ä—ñ—ó"
            },
            "error_clear": {
                "en": "‚ùå Error clearing data",
                "ru": "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—á–∏—Å—Ç–∫–µ –¥–∞–Ω–Ω—ã—Ö",
                "uk": "‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –æ—á–∏—â–µ–Ω–Ω—ñ –¥–∞–Ω–∏—Ö"
            },
            "error_settings": {
                "en": "‚ùå Error loading settings",
                "ru": "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫",
                "uk": "‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å"
            },
            "error_language_change": {
                "en": "‚ùå Error changing language",
                "ru": "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —è–∑—ã–∫–∞",
                "uk": "‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–º—ñ–Ω—ñ –º–æ–≤–∏"
            }
        }
    
    def get(self, key: str, language: Language = None, **kwargs) -> str:
        """Get translated text"""
        if language is None:
            language = self.default_language
        
        if key not in self.translations:
            logger.warning(f"Translation key '{key}' not found")
            return key
        
        lang_code = language.value
        if lang_code not in self.translations[key]:
            # Fallback to English
            lang_code = Language.EN.value
            if lang_code not in self.translations[key]:
                logger.warning(f"Translation for key '{key}' not found in any language")
                return key
        
        text = self.translations[key][lang_code]
        
        # Format with provided arguments
        if kwargs:
            try:
                text = text.format(**kwargs)
            except KeyError as e:
                logger.warning(f"Missing format argument {e} for key '{key}'")
        
        return text
    
    def get_user_language(self, language_code: Optional[str]) -> Language:
        """Get user language from Telegram language code"""
        if not language_code:
            return self.default_language
        
        # Map Telegram language codes to our supported languages
        lang_map = {
            'en': Language.EN,
            'ru': Language.RU,
            'uk': Language.UK,
            'ua': Language.UK,  # Alternative Ukrainian code
        }
        
        # Try exact match first
        if language_code in lang_map:
            return lang_map[language_code]
        
        # Try language part only (e.g., 'en-US' -> 'en')
        lang_part = language_code.split('-')[0].lower()
        if lang_part in lang_map:
            return lang_map[lang_part]
        
        return self.default_language


# Global i18n instance
i18n = I18n()


def get_text(key: str, language: Language = None, **kwargs) -> str:
    """Convenience function to get translated text"""
    return i18n.get(key, language, **kwargs)


def get_user_language(language_code: Optional[str]) -> Language:
    """Convenience function to get user language"""
    return i18n.get_user_language(language_code)
